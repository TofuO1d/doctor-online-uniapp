"use strict";const e=require("../../common/vendor.js"),n=require("../../services/patient.js"),i=require("../../stores/consult.js");if(require("../../utils/http.js"),require("../../stores/user.js"),!Array){(e.resolveComponent("uni-icons")+e.resolveComponent("uni-swipe-action-item")+e.resolveComponent("uni-swipe-action")+e.resolveComponent("scroll-page"))()}Math||((()=>"../../uni_modules/uni-icons/components/uni-icons/uni-icons.js")+(()=>"../../uni_modules/uni-swipe-action/components/uni-swipe-action-item/uni-swipe-action-item.js")+(()=>"../../uni_modules/uni-swipe-action/components/uni-swipe-action/uni-swipe-action.js")+(()=>"../../components/scroll-page/scroll-page.js"))();const o={__name:"index",setup(o){const t=i.useConsultStore(),s=e.ref([{text:"删除",style:{backgroundColor:"#dd524d"}}]),u=e.ref([]),a=e.ref(!1),c=e.ref(0),r=e.computed((()=>u.value[c.value].id));function l(){t.patientId=r.value,e.index.navigateTo({url:"/subpkg_consult/payment/index"})}return e.onShow((()=>{!async function(){const{code:i,data:o}=await n.patientListApi();if(1e4!==i)return e.index.utils.showToast("列表获取失败，稍后重试!");u.value=o,a.value=!0}()})),(n,i)=>e.e({a:a.value},a.value?e.e({b:e.f(u.value,((n,i,o)=>e.e({a:e.t(n.name),b:e.t(n.idCard.replace(/^(.{6}).+(.{4})$/,"$1********$2")),c:1===n.defaultFlag},(n.defaultFlag,{}),{d:e.t(n.genderValue),e:e.t(n.age),f:"5c15f12c-3-"+o+",5c15f12c-2-"+o,g:`/subpkg_archive/form/index?id=${n.id}`,h:e.o((e=>function(e){c.value=e}(i)),n.id),i:c.value===i?1:"",j:n.id,k:"5c15f12c-2-"+o+",5c15f12c-1"}))),c:e.p({type:"icon-edit",size:"20",color:"#16C2A3","custom-prefix":"iconfont"}),d:e.p({"right-options":s.value}),e:u.value.length<6},u.value.length<6?{f:e.p({color:"#16C2A3",size:"24",type:"plusempty"})}:{}):{},{g:e.o(l)})}};wx.createPage(o);
