"use strict";const e=require("../../../common/vendor.js"),t=require("../../../utils/index.js"),s=require("../../../services/consult.js");if(require("../../../utils/http.js"),require("../../../stores/user.js"),!Array){(e.resolveComponent("uni-list-item")+e.resolveComponent("uni-list")+e.resolveComponent("uni-load-more"))()}Math||((()=>"../../../uni_modules/uni-list/components/uni-list-item/uni-list-item.js")+(()=>"../../../uni_modules/uni-list/components/uni-list/uni-list.js")+(()=>"../../../uni_modules/uni-load-more/components/uni-load-more/uni-load-more.js"))();const u={__name:"order-list",props:{type:{type:Number,default:1}},setup(u){const a=u,o=e.ref(1),n=e.ref([]),r=e.ref("loading"),i=e.ref(!0),l=e.ref(!1),d=t.debounce((()=>{i.value&&m()}),400);async function c(){o.value=1,n.value=[],l.value=!0,await m(),l.value=!1}async function m(){r.value="loading";const{code:t,data:u,message:l}=await s.orderListApi({type:a.type,current:o.value,pageSize:5});if(1e4!==t)return e.index.utils.toast(l);n.value=[...n.value,...u.rows],o.value++,i.value=o.value<=u.pageTotal,r.value=i.value?"more":"noMore"}return m(),(t,s)=>({a:e.f(n.value,((t,s,u)=>e.e({a:t.docInfo.avatar,b:e.t(t.typeValue),c:1===t.status},(t.status,{}),{d:2===t.status},(t.status,{}),{e:3===t.status},(t.status,{}),{f:4===t.status},(t.status,{}),{g:5===t.status},(t.status,{}),{h:"239b4904-1-"+u+",239b4904-0-"+u,i:e.p({border:!1,title:"病情描述","right-text":t.illnessDesc}),j:"239b4904-2-"+u+",239b4904-0-"+u,k:e.p({border:!1,title:"价格","right-text":"¥"+t.payment}),l:"239b4904-3-"+u+",239b4904-0-"+u,m:e.p({border:!1,title:"创建时间","right-text":t.createTime}),n:"239b4904-0-"+u,o:`/subpkg_consult/order_detail/index?id=${t.id}`,p:1===t.status},(t.status,{}),{q:2===t.status},(t.status,{}),{r:3===t.status},(t.status,{}),{s:4===t.status},4===t.status?e.e({t:t.evaluateId},(t.evaluateId,{})):{},{v:5===t.status},(t.status,{}),{w:t.id}))),b:e.p({border:!1}),c:e.p({status:r.value,color:"#C3C3C5","icon-size":16,"content-text":{contentdown:"上拉显示更多",contentrefresh:"数据正在加载中...",contentnomore:"没有更多数据了"}}),d:l.value,e:e.o(c),f:e.o(((...t)=>e.unref(d)&&e.unref(d)(...t)))})}};wx.createComponent(u);
