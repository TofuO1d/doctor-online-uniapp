"use strict";const e=require("../../common/vendor.js"),l=require("../../stores/consult.js");if(!Array){(e.resolveComponent("uni-easyinput")+e.resolveComponent("uni-file-picker")+e.resolveComponent("scroll-page"))()}Math||((()=>"../../uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.js")+(()=>"../../uni_modules/uni-file-picker/components/uni-file-picker/uni-file-picker.js")+(()=>"../../components/scroll-page/scroll-page.js"))();const n={__name:"index",props:{type:String,illnessType:String,depId:String},setup(n){const t=n,{illnessInfo:s,initalValue:u}=e.storeToRefs(l.useConsultStore()),i=[{value:1,text:"一周内"},{value:2,text:"一月内"},{value:3,text:"半年内"},{value:4,text:"半年以上"}],o=[{value:1,text:"就诊过"},{value:0,text:"没有就诊过"}],r=e.computed((()=>""!==s.value.illnessDesc&&""!==s.value.illnessTime&&""!==s.value.consultFlag));function a(){const n=l.useConsultStore();n.type=t.type,n.illnessType=t.illnessType,n.depId=t.depId;const u=s.value.pictures;n.illnessInfo.pictures=u.map((({url:e,uuid:l})=>({id:l,url:e}))),e.index.navigateTo({url:"/subpkg_consult/patient/index"})}return s.value.illnessDesc&&e.index.showModal({title:"温馨提示",content:"是否恢复之前填写的病情信息？",confirmText:"确认",confirmColor:"#16C2A3",cancelColor:"#848484",success({confirm:e}){e||(s.value=u.value)}}),(l,n)=>({a:e.o((l=>e.unref(s).illnessDesc=l)),b:e.p({type:"textarea",styles:{backgroundColor:"#f6f6f6"},"input-border":!1,"placeholder-style":"font-size: 30rpx; color: #979797",placeholder:"请详细描述您的病情,病情描述不能为空",modelValue:e.unref(s).illnessDesc}),c:e.f(i,((l,n,t)=>({a:e.t(l.text),b:l.value,c:e.o((e=>{return n=l.value,void(s.value.illnessTime=n);var n}),l.value),d:l.value===e.unref(s).illnessTime?1:""}))),d:e.f(o,((l,n,t)=>({a:e.t(l.text),b:l.value,c:e.o((e=>{return n=l.value,void(s.value.consultFlag=n);var n}),l.value),d:l.value===e.unref(s).consultFlag?1:""}))),e:e.o((l=>e.unref(s).pictures=l)),f:e.p({title:"上传病情相关图片 (仅医生可见)",limit:"8","image-styles":{width:"160rpx",height:"160rpx"},"file-extname":"png,jpg,gif,webp",modelValue:e.unref(s).pictures}),g:e.o(a),h:!e.unref(r)})}};wx.createPage(n);
