import{q as a,o as s,a as e,w as l,f as t,g as i,d as o,e as r,F as u,A as c,i as n,j as d,l as f,m as p,L as _,t as m}from"./index-0333b418.js";import{_ as v}from"./uni-icons.306a74c1.js";import{o as g,r as h}from"./uni-app.es.6fb9258e.js";import{_ as k,a as y}from"./uni-swipe-action.cd1bc553.js";import{_ as j}from"./scroll-page.1487e938.js";import{b as x,r as w}from"./patient.3a4dde9c.js";import{_ as C}from"./_plugin-vue_export-helper.1b428a4d.js";import"./http.dd4042ae.js";const b=C({__name:"index",setup(C){const b=a(!1),F=a([]),$=a([{text:"删除",style:{backgroundColor:"#dd524d"}}]);return g((()=>{!async function(){const{code:a,data:s}=await x();if(1e4!==a)return uni.utils.showToast("列表获取失败，稍后重试!");F.value=s,b.value=!0}()})),(a,g)=>{const x=n,C=d,A=h(f("uni-icons"),v),q=p,z=h(f("uni-swipe-action-item"),k),E=h(f("uni-swipe-action"),y),I=h(f("scroll-page"),j);return s(),e(I,null,{default:l((()=>[b.value?(s(),e(x,{key:0,class:"archive-page"},{default:l((()=>[t(x,{class:"archive-tips"},{default:l((()=>[i("最多可添加6人")])),_:1}),t(E,null,{default:l((()=>[(s(!0),o(u,null,r(F.value,((a,o)=>(s(),e(z,{key:a.id,"right-options":$.value,onClick:s=>async function(a,s){const{code:e,message:l}=await w(a);if(1e4!==e)return uni.utils.toast(l);F.value.splice(s,1)}(a.id,o)},{default:l((()=>[t(x,{class:_([{active:1===a.defaultFlag},"archive-card"])},{default:l((()=>[t(x,{class:"archive-info"},{default:l((()=>[t(C,{class:"name"},{default:l((()=>[i(m(a.name),1)])),_:2},1024),t(C,{class:"id-card"},{default:l((()=>[i(m(a.idCard.replace(/^(.{6}).+(.{4})$/,"$1********$2")),1)])),_:2},1024),1===a.defaultFlag?(s(),e(C,{key:0,class:"default"},{default:l((()=>[i("默认")])),_:1})):c("",!0)])),_:2},1024),t(x,{class:"archive-info"},{default:l((()=>[t(C,{class:"gender"},{default:l((()=>[i(m(a.genderValue),1)])),_:2},1024),t(C,{class:"age"},{default:l((()=>[i(m(a.age)+"岁",1)])),_:2},1024)])),_:2},1024),t(q,{"hover-class":"none",class:"edit-link",url:`/subpkg_archive/form/index?id=${a.id}`},{default:l((()=>[t(A,{type:"icon-edit",size:"20",color:"#16C2A3","custom-prefix":"iconfont"})])),_:2},1032,["url"])])),_:2},1032,["class"])])),_:2},1032,["right-options","onClick"])))),128))])),_:1}),(s(),e(x,{key:0,class:"archive-card"},{default:l((()=>[t(q,{class:"add-link","hover-class":"none",url:"/subpkg_archive/form/index"},{default:l((()=>[t(A,{color:"#16C2A3",size:"24",type:"plusempty"}),t(C,{class:"label"},{default:l((()=>[i("添加患者")])),_:1})])),_:1})])),_:1}))])),_:1})):c("",!0)])),_:1})}}},[["__scopeId","data-v-e80da5a2"]]);export{b as default};
