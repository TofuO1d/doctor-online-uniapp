import{_ as s}from"./custom-tabs.b8b80733.js";import{q as e,o as a,a as t,w as l,i as r,f as u,d as n,e as d,F as o,g as i,A as c,v as f,x as m,l as _,S as p,t as b,L as v,j as y,h as x,m as g,k as h}from"./index-0333b418.js";import{r as j}from"./uni-app.es.6fb9258e.js";import{_ as k}from"./uni-load-more.29a05208.js";import{a as w}from"./medicine.0c3b3592.js";import{_ as C}from"./_plugin-vue_export-helper.1b428a4d.js";import"./http.dd4042ae.js";const q=C({__name:"index",setup(C){const q=e([{label:"待支付",status:10,rendered:!1},{label:"待发货",status:11,rendered:!1},{label:"待收货",status:12,rendered:!1},{label:"已完成",status:13,rendered:!1},{label:"已取消",status:14,rendered:!0}]),F=e(!0),z=e(!1),A=e([]);function D({index:s,status:e}){I(e)}async function I(s){F.value=!0,z.value=!1;const{code:e,data:a,message:t}=await w(s);if(1e4!==e)return uni.utils.toast(t);A.value=a.rows,F.value=!1,z.value=0===A.value.length}return I(),(e,w)=>{const C=j(_("custom-tabs"),s),I=r,K=y,L=x,P=g,S=h,$=j(_("uni-load-more"),k),B=p;return a(),t(I,{class:"medicine-page"},{default:l((()=>[u(I,{class:"order-status-tabs"},{default:l((()=>[u(C,{onClick:D,list:q.value},null,8,["list"])])),_:1}),u(B,{"refresher-enabled":"","refresher-background":"#f6f6f6",class:"uni-scroll-view","scroll-y":""},{default:l((()=>[u(I,{class:"order-list"},{default:l((()=>[(a(!0),n(o,null,d(A.value,(s=>(a(),t(I,{key:s.id,class:"order-list-item"},{default:l((()=>[u(I,{class:"order-header"},{default:l((()=>[u(K,{class:"number"},{default:l((()=>[i("订单编号: "+b(s.id),1)])),_:2},1024),u(K,{class:"status"},{default:l((()=>[i("待支付")])),_:1})])),_:2},1024),u(P,{url:`/subpkg_medicine/order_detail/index?id=${s.id}`,"hover-class":"none",class:"order-body"},{default:l((()=>[(a(!0),n(o,null,d(s.medicines,(s=>(a(),t(I,{key:s.id,class:"medicine"},{default:l((()=>[u(L,{class:"medicine-cover",src:s.avatar,mode:"aspectFill"},null,8,["src"]),u(I,{class:"medicine-info"},{default:l((()=>[u(K,{class:"name"},{default:l((()=>[i(b(s.name),1)])),_:2},1024),u(K,{class:v([{symbol:1===s.prescriptionFlag},"unit"])},{default:l((()=>[i(b(s.specs),1)])),_:2},1032,["class"]),u(K,{class:"price"},{default:l((()=>[i("¥"+b(s.amount),1)])),_:2},1024)])),_:2},1024),u(I,{class:"quantity"},{default:l((()=>[i("x"+b(s.quantity),1)])),_:2},1024)])),_:2},1024)))),128))])),_:2},1032,["url"]),u(I,{class:"order-footer"},{default:l((()=>[u(I,{class:"total"},{default:l((()=>[i(" 共2件商品 合计：¥"+b(s.actualPayment)+"（运费¥0.00） ",1)])),_:2},1024),u(I,{class:"buttons"},{default:l((()=>[u(S,{class:"uni-button minor"},{default:l((()=>[i("取消订单")])),_:1}),u(S,{class:"uni-button"},{default:l((()=>[i("继续支付")])),_:1})])),_:1})])),_:2},1024)])),_:2},1024)))),128)),z.value?(a(),t(I,{key:0,class:"empty-tips"},{default:l((()=>[i("没有更多数据了")])),_:1})):c("",!0),f(u($,{status:"loading",color:"#C3C3C5","icon-size":16,"content-text":{contentdown:"上拉显示更多",contentrefresh:"数据正在加载中",contentnomore:"没有更多数据了"}},null,512),[[m,F.value]])])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-e245d581"]]);export{q as default};
