import{q as a,c as e,o as s,a as t,w as l,f as i,g as u,d as n,e as o,F as c,A as d,a4 as r,i as f,j as p,l as _,m,k as v,L as g,t as h}from"./index-0333b418.js";import{_ as k}from"./uni-icons.306a74c1.js";import{o as x,r as j}from"./uni-app.es.6fb9258e.js";import{_ as y,a as b}from"./uni-swipe-action.cd1bc553.js";import{_ as C}from"./scroll-page.1487e938.js";import{b as w}from"./patient.3a4dde9c.js";import{u as $}from"./consult.658795ea.js";import{_ as A}from"./_plugin-vue_export-helper.1b428a4d.js";import"./http.dd4042ae.js";const F=A({__name:"index",setup(A){const F=$(),q=a([{text:"删除",style:{backgroundColor:"#dd524d"}}]),z=a([]),I=a(!1),E=a(0),H=e((()=>z.value[E.value].id));function L(){F.patientId=H.value,r({url:"/subpkg_consult/payment/index"})}return x((()=>{!async function(){const{code:a,data:e}=await w();if(1e4!==a)return uni.utils.showToast("列表获取失败，稍后重试!");z.value=e,I.value=!0}()})),(a,e)=>{const r=f,x=p,w=j(_("uni-icons"),k),$=m,A=j(_("uni-swipe-action-item"),y),F=j(_("uni-swipe-action"),b),H=v,T=j(_("scroll-page"),C);return s(),t(T,null,{default:l((()=>[I.value?(s(),t(r,{key:0,class:"patient-page"},{default:l((()=>[i(r,{class:"page-header"},{default:l((()=>[i(r,{class:"patient-title"},{default:l((()=>[u(" 请选择患者信息 ")])),_:1}),i(r,{class:"patient-tips"},{default:l((()=>[u(" 以便医生给出更准确的治疗，信息仅医生可见 ")])),_:1})])),_:1}),i(F,null,{default:l((()=>[(s(!0),n(c,null,o(z.value,((a,e)=>(s(),t(A,{key:a.id,"right-options":q.value},{default:l((()=>[i(r,{onClick:a=>function(a){E.value=a}(e),class:g([{active:E.value===e},"archive-card"])},{default:l((()=>[i(r,{class:"archive-info"},{default:l((()=>[i(x,{class:"name"},{default:l((()=>[u(h(a.name),1)])),_:2},1024),i(x,{class:"id-card"},{default:l((()=>[u(h(a.idCard.replace(/^(.{6}).+(.{4})$/,"$1********$2")),1)])),_:2},1024),1===a.defaultFlag?(s(),t(x,{key:0,class:"default"},{default:l((()=>[u("默认")])),_:1})):d("",!0)])),_:2},1024),i(r,{class:"archive-info"},{default:l((()=>[i(x,{class:"gender"},{default:l((()=>[u(h(a.genderValue),1)])),_:2},1024),i(x,{class:"age"},{default:l((()=>[u(h(a.age)+"岁",1)])),_:2},1024)])),_:2},1024),i($,{class:"edit-link",url:`/subpkg_archive/form/index?id=${a.id}`},{default:l((()=>[i(w,{type:"icon-edit",size:"20",color:"#16C2A3","custom-prefix":"iconfont"})])),_:2},1032,["url"])])),_:2},1032,["onClick","class"])])),_:2},1032,["right-options"])))),128))])),_:1}),z.value.length<6?(s(),t(r,{key:0,class:"archive-card"},{default:l((()=>[i($,{class:"add-link","hover-class":"none",url:"/subpkg_archive/form/index"},{default:l((()=>[i(w,{color:"#16C2A3",size:"24",type:"plusempty"}),i(x,{class:"label"},{default:l((()=>[u("添加患者")])),_:1})])),_:1})])),_:1})):d("",!0)])),_:1})):d("",!0),i(r,{class:"next-step"},{default:l((()=>[i(H,{onClick:L,class:"uni-button"},{default:l((()=>[u("下一步")])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-7ddef143"]]);export{F as default};
